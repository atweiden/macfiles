/* vim: set ft=journal fdm=marker fdl=0 nowrap: */

Installation
============

Install Software
----------------

```sh
_packages=('ack'
           'aria2'
           'bash'
           'bash-completion'
           'ccrypt'
           'colordiff'
           'darkhttpd'
           'dnscrypt-proxy'
           'exiftool'
           'ffmpeg'
           'findutils'
           'gawk'
           'gcc'
           'gdb'
           'git'
           'gnupg'
           'gnupg2'
           'gnu-sed'
           'gnu-tar'
           'go'
           'gotags'
           'gpg-agent'
           'icdiff'
           'jhead'
           'jq'
           'mercurial'
           'mobile-shell'
           'moreutils'
           'openvpn'
           'p7zip'
           'perl'
           'pod2man'
           'proxychains-ng'
           'python'
           'python3'
           'qrencode'
           'rclone'
           'readline'
           'remarshal'
           'rlwrap'
           'rsync'
           'sdcv'
           'shellcheck'
           'socat'
           'sqlite'
           'sshuttle'
           'ssss'
           'the_platinum_searcher'
           'the_silver_searcher'
           'tor'
           'torsocks'
           'tree'
           'valgrind'
           'vim'
           'wget'
           'xz'
           'youtube-dl')

_casks=('adium'
        'caffeine'
        'coyim'
        'dash'
        'firefox'
        'flux'
        'iterm2'
        'keepassx'
        'little-snitch'
        'micro-snitch'
        'ricochet'
        'textmate'
        'torbrowser'
        'vlc')

# xcode
xcode-select --install

# homebrew
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
brew analytics off

# brews
brew install "${_packages[@]}"

# bash
if ! fgrep -q '/usr/local/bin/bash' /etc/shells; then
  echo '/usr/local/bin/bash' | sudo tee -a /etc/shells
  chsh -s /usr/local/bin/bash
fi

# coreutils
brew install coreutils --with-gmp

# dnscrypt-proxy
# - specify --resolver-name=ns0.dnscrypt.is
# sudo brew services start dnscrypt-proxy

# curl
brew install curl --with-gssapi --with-libidn --with-openssl
brew link --force curl

# macvim
brew install macvim --with-luajit --with-python3 --HEAD
brew linkapps macvim

# neovim
brew tap neovim/neovim
brew install neovim/neovim/neovim
#brew install --HEAD --with-release neovim
#brew update
#brew reinstall --HEAD neovim
pip3 install neovim
mkdir -p ~/.config
ln -s ~/.vim ~/.config/nvim
ln -s ~/.vimrc ~/.config/nvim/init.vim

# universal-ctags
brew tap universal-ctags/universal-ctags
brew install --HEAD universal-ctags

# erlang / elixir
brew install erlang --with-native-libs --with-wxmac
brew install elixir elixir-build exenv

# ocaml / reason [12]
brew install opam --with-ocaml --with-camlp4 --with-aspcud
opam init
opam config setup -a
opam update
opam switch 4.02.3
eval $(opam config env)
opam pin add -y merlin 'https://github.com/the-lambda-church/merlin.git#reason-0.0.1'
opam pin add -y merlin_extend 'https://github.com/let-def/merlin-extend.git#reason-0.0.1'
opam pin add -y reason 'https://github.com/facebook/reason.git#0.0.6'
opam install annot ocp-indent utop

# mac settings
./mac.sh

# osxlockdown (see also: https://objective-see.com/products.html)
mkdir -p ~/.src/osxlockdown && cd ~/.src/osxlockdown
export GOPATH="$PWD"
go get -v -u github.com/SummitRoute/osxlockdown/...
cp src/github.com/SummitRoute/osxlockdown/commands.yaml .
sudo bin/osxlockdown
sudo bin/osxlockdown --remediate

# casks
brew tap caskroom/cask
brew cask install "${_casks[@]}"

brew cleanup
```

seil [1]

tmux patched [2]

monaco for powerline [3]

vim-plug [4]

vim plugins [5]

fzf-extras [6]

f.lux [7]

myrepos [8]

rakudobrew [9]

iTerm2 seoul256 colorscheme [10]

iTerm2 alt keybindings [11]


Bootstrap
---------

*Be sure to customize name, email, github before running bootstrap.*

```sh
./bootstrap.sh
```


Plug
----

```sh
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
vim +PlugInstall +qa
```


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Configuration
-------------

Remap capslock key to backspace with Seil

System Settings

- System Settings -> Spotlight
  - Search Results
    - uncheck "Bing Web Searches"
    - uncheck "Allow Spotlight Suggestions in Spotlight and Look up"
- System Settings -> Keyboard
  - Keyboard
    - Repeat: fastest
    - Delay: second shortest
  - Shortcuts
    - Launchpad & Dock
      - uncheck all
    - Mission Control
      - uncheck all except "Show Desktop"
      - change "Show Desktop" to Super+D
    - Keyboard
      - uncheck all except "Move focus to next window"
    - Accessibility
      - uncheck all
    - App Shortcuts
      - uncheck all

Make ca-cert for mercurial

- `cacerts = /etc/ssl/certs/ca-certificates.crt`
  - resolved: https://www.mercurial-scm.org/wiki/CACertificates#Mac_OS_X_10.6_and_higher

Little Snitch

`/usr/local/Caskroom/little-snitch/3.6.4/Little\ Snitch\ Installer.app/Contents/MacOS/Little\ Snitch\ Installer`


******************************************************************************

[1] https://pqrs.org/osx/karabiner/seil.html
[2] https://github.com/atweiden/homebrew-formulae/tree/master/tmux
[3] https://gist.github.com/rogual/6824790627960fc93077
[4] https://github.com/junegunn/vim-plug
[5] https://github.com/atweiden/pkgbuilds-plugged
[6] https://github.com/atweiden/fzf-extras
[7] https://justgetflux.com/
[8] https://github.com/joeyh/myrepos
[9] https://github.com/tadzik/rakudobrew
[10] https://github.com/atweiden/iterm2-seoul256-night
[11] https://iterm2.com/faq.html
[12] https://github.com/facebook/reason/blob/4dd9e85c24ea72a129142b238f6e2a073872d01f/README.md
